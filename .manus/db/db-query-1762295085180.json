{
  "query": "\n-- Tabela de usuários\nCREATE TABLE IF NOT EXISTS usuarios (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  nome VARCHAR(255) NOT NULL,\n  email VARCHAR(255) NOT NULL UNIQUE,\n  senha VARCHAR(255) NOT NULL,\n  empresa VARCHAR(255),\n  cargo VARCHAR(255),\n  criado_em DATETIME DEFAULT CURRENT_TIMESTAMP,\n  atualizado_em DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- Tabela de sessões JWT\nCREATE TABLE IF NOT EXISTS sessoes (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  usuario_id INT NOT NULL,\n  token VARCHAR(1000) NOT NULL,\n  expira_em DATETIME NOT NULL,\n  criado_em DATETIME DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (usuario_id) REFERENCES usuarios(id) ON DELETE CASCADE\n);\n\n-- Tabela de histórico de chat\nCREATE TABLE IF NOT EXISTS chat_historico (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  usuario_id INT NOT NULL,\n  mensagem_usuario TEXT NOT NULL,\n  resposta_gpt TEXT,\n  criado_em DATETIME DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (usuario_id) REFERENCES usuarios(id) ON DELETE CASCADE\n);\n\n-- Índices para performance\nCREATE INDEX idx_usuarios_email ON usuarios(email);\nCREATE INDEX idx_sessoes_usuario_id ON sessoes(usuario_id);\nCREATE INDEX idx_chat_usuario_id ON chat_historico(usuario_id);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2J8CDKTx9VdfXU7.8ffe2f5d6b06 --database KzLjingKdmafj6rcuPmgia --execute \n-- Tabela de usuários\nCREATE TABLE IF NOT EXISTS usuarios (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  nome VARCHAR(255) NOT NULL,\n  email VARCHAR(255) NOT NULL UNIQUE,\n  senha VARCHAR(255) NOT NULL,\n  empresa VARCHAR(255),\n  cargo VARCHAR(255),\n  criado_em DATETIME DEFAULT CURRENT_TIMESTAMP,\n  atualizado_em DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- Tabela de sessões JWT\nCREATE TABLE IF NOT EXISTS sessoes (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  usuario_id INT NOT NULL,\n  token VARCHAR(1000) NOT NULL,\n  expira_em DATETIME NOT NULL,\n  criado_em DATETIME DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (usuario_id) REFERENCES usuarios(id) ON DELETE CASCADE\n);\n\n-- Tabela de histórico de chat\nCREATE TABLE IF NOT EXISTS chat_historico (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  usuario_id INT NOT NULL,\n  mensagem_usuario TEXT NOT NULL,\n  resposta_gpt TEXT,\n  criado_em DATETIME DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (usuario_id) REFERENCES usuarios(id) ON DELETE CASCADE\n);\n\n-- Índices para performance\nCREATE INDEX idx_usuarios_email ON usuarios(email);\nCREATE INDEX idx_sessoes_usuario_id ON sessoes(usuario_id);\nCREATE INDEX idx_chat_usuario_id ON chat_historico(usuario_id);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 4644
}